<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profit Summary</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-5">
        <!-- Profit Summary Heading -->
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h1 class="text-center">Profit Summary</h1>
            <a href="{% url 'home' %}" class="btn btn-primary">Home</a>
        </div>

        <!-- Month Filter Form -->
        <form method="get" action="{% url 'profit_summary' %}" class="mb-4">
            <div class="row align-items-center">
                <!-- Month Filter -->
                <div class="col-md-3">
                    <select name="monthcode" class="form-select">
                        <option value="">All Months</option>
                        {% for monthcode in monthcodes %}
                            <option value="{{ monthcode }}" {% if request.GET.monthcode == monthcode %}selected{% endif %}>
                                {{ monthcode }}
                            </option>
                        {% endfor %}
                    </select>
                </div>

                <!-- Submit Button -->
                <div class="col-md-3 text-md-start text-center">
                    <button type="submit" class="btn btn-primary w-100">
                        <i class="fas fa-filter"></i> Apply Filters
                    </button>
                </div>
            </div>
        </form>

        <!-- Profit Table -->
        <table class="table table-bordered table-hover">
            <thead class="table-dark">
                <tr>
                    <th>Total Income</th>
                    <th>Total Expenditure</th>
                    <th>Profit</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>{{ total_income }}</td>
                    <td>{{ total_expenditure }}</td>
                    <td class="{% if profit < 0 %}text-danger{% else %}text-success{% endif %}">
                        {{ profit }}
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Bootstrap JS (optional for interactivity) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>





{% comment %} <h1>Profit Summary</h1>
<table class="table table-bordered">
  <thead>
    <tr>
      <th>Total Income</th>
      <th>Total Expenditure</th>
      <th>Profit</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>{{ total_income }}</td>
      <td>{{ total_expenditure }}</td>
      <td class="{% if profit < 0 %}
          text-danger
        {% else %}
          text-success
        {% endif %}">{{ profit }}</td>
    </tr>
  </tbody>
</table> {% endcomment %}
